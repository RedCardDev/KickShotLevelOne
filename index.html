<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>KickShot: Level 1</title>
    <script type="text/javascript" src="lib/phaser.min.js"></script>
    <script type="text/javascript" src="src/boot.js"></script>
    <script type="text/javascript" src="src/preload.js"></script>
    <script type="text/javascript" src="src/menu.js"></script>
    <script type="text/javascript" src="src/game.js"></script>

    <meta name="viewport" content="initial-scale=1 maximum-scale=1 user-scalable=0 minimal-ui" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="true" />
</head>
<body>
    <div id="gameDiv"> </div>
    <script>
        (function() {
            var w = window.innerWidth * window.devicePixelRatio,
                h = window.innerHeight * window.devicePixelRatio,
                width = (h > w) ? h : w,
                height = (h > w) ? w : h;

            if (window.innerWidth >= 1024 && window.devicePixelRatio >= 2) {
                width = Math.round(width / 2);
                height = Math.round(height / 2);
            }

            if (window.devicePixelRatio === 3) {
                width = Math.round(width / 3) * 2;
                height = Math.round(height / 3) * 2;
            }

            KickShot.deviceWidth = width;
            KickShot.deviceHeight = height;
            KickShot.deviceRatio = KickShot.deviceWidth / KickShot.deviceHeight;
            KickShot.worldWidth = 960;
            KickShot.worldHeight = 640;
            KickShot.worldRatio = KickShot.worldWidth / KickShot.worldHeight;

            if (KickShot.worldRatio > KickShot.deviceRatio) {
                KickShot.scaleWidth = KickShot.worldWidth;
                KickShot.scaleHeight = KickShot.worldWidth * KickShot.deviceRatio;
            } else {
                KickShot.scaleWidth = KickShot.worldHeight * KickShot.deviceRatio;
                KickShot.scaleHeight = KickShot.worldHeight;
            }

            var game = new Phaser.Game(KickShot.scaleWidth, KickShot.scaleHeight, Phaser.CANVAS, 'game');
            game.state.add('Boot', KickShot.Boot);
            game.state.add('Preload', KickShot.Preload);
            game.state.add('Menu', KickShot.Menu);
            game.state.add('Game', KickShot.Game);
            game.state.start('Boot');
        })();
    </script>
</body>

</html>
